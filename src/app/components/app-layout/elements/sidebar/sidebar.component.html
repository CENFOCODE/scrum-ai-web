<nav class="sidebar" [class.closed]="!visible">

  <button class="sidebar-toggle" (click)="toggle.emit()">
    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-layout-sidebar"
         viewBox="0 0 16 16">
      <path d="M0 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2zm5-1v12h9a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1zM4 2H2a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h2z"/>
    </svg>
  </button>

  <ul class="menu">
    <li routerLink="/app/scenario" routerLinkActive="active">
      <i class="fa-solid fa-pen-to-square"></i>
      <span class="label">Crear sesi√≥n</span>
    </li>
    <li (click)="toggleHistory()" class="section-header">
      <i class="fa-regular fa-clock"></i>
      <span class="label">Historial de sesiones</span>
      <svg *ngIf="historyOpen" width="14" height="14" viewBox="0 0 640 640">
        <path d="M297.4 470.6C309.9 483.1 330.2 483.1 342.7 470.6L534.7 278.6C547.2 266.1 547.2 245.8 534.7 233.3C522.2 220.8 501.9 220.8 489.4 233.3L320 402.7L150.6 233.4C138.1 220.9 117.8 220.9 105.3 233.4C92.8 245.9 92.8 266.2 105.3 278.7L297.3 470.7z"/>
      </svg>

      <svg *ngIf="!historyOpen" width="14" height="14" viewBox="0 0 640 640">
        <path d="M471.1 297.4C483.6 309.9 483.6 330.2 471.1 342.7L279.1 534.7C266.6 547.2 246.3 547.2 233.8 534.7C221.3 522.2 221.3 501.9 233.8 489.4L403.2 320L233.9 150.6C221.4 138.1 221.4 117.8 233.9 105.3C246.4 92.8 266.7 92.8 279.2 105.3L471.2 297.3z"/>
      </svg>
    </li>

    <ul *ngIf="historyOpen" class="sub-list">
      @if (history.length === 0) {
        <li class="empty">
          <small class="label">No hay sesiones guardadas</small>
        </li>
      } @else {
        <li *ngFor="let h of history">
          <small class="label">{{ h.title }}</small>
        </li>
      }
    </ul>

    <div class="px-3">
      <p-divider layout="horizontal" align="center"></p-divider>
    </div>

    <li (click)="togglePaused()" class="section-header">
      <i class="fa-regular fa-circle-pause"></i>
      <span class="label">Sesiones pausadas</span>
      <svg *ngIf="pausedOpen" width="14" height="14" viewBox="0 0 640 640">
        <path d="M297.4 470.6C309.9 483.1 330.2 483.1 342.7 470.6L534.7 278.6C547.2 266.1 547.2 245.8 534.7 233.3C522.2 220.8 501.9 220.8 489.4 233.3L320 402.7L150.6 233.4C138.1 220.9 117.8 220.9 105.3 233.4C92.8 245.9 92.8 266.2 105.3 278.7L297.3 470.7z"/>
      </svg>

      <svg *ngIf="!pausedOpen" width="14" height="14" viewBox="0 0 640 640">
        <path d="M471.1 297.4C483.6 309.9 483.6 330.2 471.1 342.7L279.1 534.7C266.6 547.2 246.3 547.2 233.8 534.7C221.3 522.2 221.3 501.9 233.8 489.4L403.2 320L233.9 150.6C221.4 138.1 221.4 117.8 233.9 105.3C246.4 92.8 266.7 92.8 279.2 105.3L471.2 297.3z"/>
      </svg>
    </li>

    <ul *ngIf="pausedOpen" class="sub-list">
      @if (paused.length === 0) {
        <li class="empty">
          <small class="label">No hay sesiones guardadas</small>
        </li>
      } @else {
        <li *ngFor="let h of paused">
          <small class="label">{{ h.title }}</small>
        </li>
      }
    </ul>

  </ul>

</nav>




